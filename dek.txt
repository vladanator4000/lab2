#include "stdafx.h"
#include <iostream>
#include <windows.h>
#include <cmath>
using namespace std;

class Queue {
	int s = 100;
	int *queue;
	int pered, zad;
public:
	Queue();
	void push(int k);
	void push2(int k);
	void ydal();
	friend void out(Queue q);
	int size();
	void pop();
	void pop2();
	int front();
	int back();
};

Queue::Queue()
{
	int *as = new int[s];
	queue = as;
	pered = 0;
	zad = 0;
	delete[] as;
}

void out(Queue q) {
	for (int i = q.pered + 1; i<q.zad + 1; i++)
	{
		cout << " " << q.queue[i];
	}

}

void Queue::push(int k)
{
	if (zad + 1 == pered || (zad + 1 == s && !pered)) {
		cout << "дек пуст\n";
		return;
	}
	zad++;
	if (zad == s) zad = 0;
	queue[zad] = k;
}
void Queue::push2(int k)
{
	if (zad + 1 == pered || (zad + 1 == s && !pered)) {
		cout << "дек пуст\n";
		return;
	}
	zad++;
	if (zad == s) zad = 0;
	for (int i = zad; i > 0; i--)
	{
		queue[i] = queue[i - 1];
	}
	queue[pered + 1] = k;

}

void Queue::pop()
{
	if (pered == zad) {
		cout << "дек пуст\n";
		return;
	}
	zad--;
	for (int i = 1; i <= zad + 1; i++)
	{
		queue[i] = queue[i + 1];
	}
	if (pered == s) pered = 0;

}
void Queue::pop2()
{
	if (pered == zad) {
		cout << "дек пуст\n";
		return;
	}
	zad--;
	if (pered == s) pered = 0;

}
void Queue::ydal()
{
	zad = 0;
	pered = 0;

}
int Queue::size()
{
	int s = 0;
	for (int i = pered; i<zad; i++)
	{
		s++;
	}
	//cout << "pered: " << pered << " zad: " << zad << endl;
	return s;
}

int Queue::back()
{
	return queue[zad];
}

int Queue::front()
{
	return queue[pered + 1];
}




int main()
{
	setlocale(LC_ALL, "rus");
	Queue queue1, queue2;
	int i, t = 1;
	while (t != 0)
	{
		cout << "1 - добавить элемент справа" << endl;
		cout << "2 - удалить элемент слева" << endl;
		cout << "3 - информация о деке" << endl;
		cout << "4 - очистка дека" << endl;
		cout << "5 - удалить элемент справа" << endl;
		cout << "6 - добавить элемент слева" << endl;
		cout << "0 - выход" << endl;
		cout << "выберите нужный вам пункт" << endl;
		cin >> t;
		if (t == 0)
		{
			return 0;
		}
		if (t == 1)
		{
			cout << "введите еще элемент: ";
			int n;
			cin >> n;
			queue1.push(n);
		}
		if (t == 2)
		{
			cout << "удаление элемента слева";
			queue1.pop();
			cout << endl;
		}
		if (t == 3)
		{
			cout << "дек :" << endl;
			out(queue1);
			cout << endl;
			cout << "Размер дека:" << endl;
			cout << queue1.size();
			cout << endl;
			if (queue1.size() != 0)
			{
				cout << "дальний элемент:" << endl;
				cout << queue1.back();
				cout << endl;
				cout << "ближний элемент" << endl;
				cout << queue1.front();
				cout << endl;
				cout << endl;
			}
			else
			{
				cout << "дальний элемент:" << endl;
				cout << " ";
				cout << endl;
				cout << "ближний элемент" << endl;
				cout << " ";
				cout << endl;
				cout << endl;
			}

		}
		if (t == 4)
		{
			queue1.ydal();
		}
		if (t == 5)
		{
			cout << "удаление элемента справа";
			queue1.pop2();
			cout << endl;
		}
		if (t == 6)
		{
			cout << "введите еще элемент: ";
			int n;
			cin >> n;
			queue1.push2(n);
		}
	}
	system("pause");
	return 0;
}